version: "1.0.0"
name: "Beads Architecture"

nodeComponents:
  CLI:
    defaultLabel: "CLI"
    description: "Command-line interface for beads"
    color: "#4CAF50"
    sources:
      - "cmd/bd/*.go"
      - "beads.go"
    
  Database:
    defaultLabel: "Database"
    description: "SQLite database for issue storage"
    color: "#2196F3"
    sources:
      - "internal/beads/*.go"
      - "internal/storage/*.go"
    
  JSONL:
    defaultLabel: "JSONL"
    description: "JSON Lines file for git synchronization"
    color: "#FF9800"
    sources:
      - ".beads/issues.jsonl"
      - "internal/export/*.go"
    
  RPC:
    defaultLabel: "RPC"
    description: "Remote procedure call system"
    color: "#9C27B0"
    sources:
      - "internal/rpc/*.go"
    
  Daemon:
    defaultLabel: "Daemon"
    description: "Background daemon for auto-sync"
    color: "#F44336"
    sources:
      - "internal/daemon/*.go"
      - "cmd/bd/*daemon*.go"
    
  Importer:
    defaultLabel: "Importer"
    description: "Import system for external data"
    color: "#00BCD4"
    sources:
      - "internal/importer/*.go"
      - "cmd/bd/*import*.go"
    
  Exporter:
    defaultLabel: "Exporter"
    description: "Export system for data output"
    color: "#8BC34A"
    sources:
      - "internal/export/*.go"
      - "cmd/bd/*export*.go"
    
  Config:
    defaultLabel: "Config"
    description: "Configuration management"
    color: "#795548"
    sources:
      - "internal/config/*.go"
      - "internal/configfile/*.go"
    
  Validation:
    defaultLabel: "Validation"
    description: "Data validation system"
    color: "#607D8B"
    sources:
      - "internal/validation/*.go"
      - "cmd/bd/*valid*.go"
    
  Git:
    defaultLabel: "Git"
    description: "Git version control integration"
    color: "#FF5722"
    sources:
      - "internal/git/*.go"
      - "internal/syncbranch/*.go"
    
  MCP:
    defaultLabel: "MCP"
    description: "Model Context Protocol server"
    color: "#E91E63"
    sources:
      - "integrations/beads-mcp/**/*.py"
    
  AgentMail:
    defaultLabel: "AgentMail"
    description: "Multi-agent coordination system"
    color: "#3F51B5"
    sources:
      - "docs/AGENT_MAIL*.md"

edgeComponents:
  data_flow:
    description: "Data flows between components"
    color: "#4CAF50"
    
  depends_on:
    description: "Component dependency"
    color: "#2196F3"
    
  communicates:
    description: "Communication between components"
    color: "#9C27B0"
    
  syncs:
    description: "Synchronization relationship"
    color: "#FF9800"
